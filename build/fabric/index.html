<base target="_top"><div class="creative creative--fabric" style="background:[%BackgroundColour%]">
    <a class="creative__link" href="%%CLICK_URL_UNESC%%%%DEST_URL%%">
        <div class="creative__alt creative__alt--tablet hide-until-tablet background-effect--[%ScrollType%]"
            style="background-image: url('[%BackgroundImage%]');
            background-position: [%BackgroundImagePosition%];
            background-repeat: [%BackgroundImageRepeat%];"
            >
            <div class="creative__layer creative__layer1"
                style="background-image: url('[%Layer1BackgroundImage%]');
                background-position: [%Layer1BackgroundPosition%]"
                ></div>
            <div class="creative__layer creative__layer2"
                style="background-image: url('[%Layer2BackgroundImage%]');
                background-position: [%Layer2BackgroundPosition%]"
                ></div>
            <div class="creative__layer creative__layer3"
                style="background-image: url('[%Layer3BackgroundImage%]');
                background-position: [%Layer3BackgroundPosition%]"
                ></div>
        </div>
        <div class="creative__alt creative__alt--mobile mobile-only background-effect--[%ScrollType%]"
            style="background-image: url('[%MobileBackgroundImage%]');
            background-position: [%MobileBackgroundImagePosition%];
            background-repeat: [%MobileBackgroundImageRepeat%];"
            >
            <div class="creative__layer creative__layer1"
                style="background-image: url('[%MobileLayer1BackgroundImage%]');
                background-position: [%MobileLayer1BackgroundPosition%]"
                ></div>
            <div class="creative__layer creative__layer2"
                style="background-image: url('[%MobileLayer2BackgroundImage%]');
                background-position: [%MobileLayer2BackgroundPosition%]"
                ></div>
            <div class="creative__layer creative__layer3"
                style="background-image: url('[%MobileLayer3BackgroundImage%]');
                background-position: [%MobileLayer3BackgroundPosition%]"
                ></div>
        </div>
    </a>
</div>

<script>!function(){"use strict";document.addEventListener("DOMContentLoaded",function(){function e(e){return new Promise(function(n){return window.requestAnimationFrame(function(){e(),n()})})}function n(e){return new Promise(function(n){return window.requestAnimationFrame(function(){n(e())})})}function t(){return new Promise(function(e){self.addEventListener("message",function n(t){var r=void 0;try{r=JSON.parse(t.data)}catch(e){return}var o=Object.keys(r);1===o.length&&"id"===o[0]&&(console.log("id is "+r.id),self.removeEventListener("message",n),e(r.id))})})}function r(){return new Promise(function(e){"complete"===document.readyState?e():window.addEventListener("load",e)}).then(function(){return n(function(){return window.innerHeight})}).then(function(e){return o("resize",{height:e})})}function o(e,n){var t=i();return new Promise(function(r,o){self.addEventListener("message",function e(n){var i=n.data,a=void 0,u=void 0,s=void 0;try{var c=JSON.parse(i);a=c.id,u=c.error,s=c.result}catch(e){return}a===t&&(self.removeEventListener("message",e),null===u?r(s):o(u))}),u(t,e,n)})}function i(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substr(1)}return""+e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}function a(e){var n=i(),t="scroll";self.addEventListener("message",function r(o){var i=o.data;try{var a=JSON.parse(i),s=a.id,c=a.result;if(s!==n)return;!e(c)==!1&&(u(n,t,!1),self.removeEventListener(r))}catch(e){}}),u(n,t,!0)}function u(e,n,t){window.top.postMessage(JSON.stringify({id:e,type:n,value:t}),location.protocol+("true"===s?"//localhost:9000":"//www.theguardian.com"))}window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||function(e){return setTimeout(e,1e3/60)});var s="[%DevMode%]";t().then(function(n){r();var t="[%ScrollType%]",o=window.matchMedia("(min-width: 740px)").matches;"fixed"===t?a(function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];console.log("yooohooo, received:"),console.dir(n)}):"parallax"!==t||o||a(function(n){var t=n.rect,r=t.bottom,o=t.height,i=n.viewport.height,a=(i-r+o/2)/i*100;e(function(){return background.style.backgroundPositionY=a+"%"})})})})}();</script>