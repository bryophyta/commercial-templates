<base target="_top" href="https://www.theguardian.com"><div class="creative creative--fabric" style="background:[%BackgroundColour%]">
    <a class="creative__link" href="%%CLICK_URL_UNESC%%%%DEST_URL%%">
        <div class="creative__alt creative__alt--tablet hide-until-tablet background-effect--[%ScrollType%]"
            style="background-image: url('[%BackgroundImage%]');
            background-position: [%BackgroundImagePosition%];
            background-repeat: [%BackgroundImageRepeat%];"
            >
            <div class="creative__layer creative__layer1"
                style="background-image: url('[%Layer1BackgroundImage%]');
                background-position: [%Layer1BackgroundPosition%]"
                ></div>
            <div class="creative__layer creative__layer2"
                style="background-image: url('[%Layer2BackgroundImage%]');
                background-position: [%Layer2BackgroundPosition%]"
                ></div>
            <div class="creative__layer creative__layer3"
                style="background-image: url('[%Layer3BackgroundImage%]');
                background-position: [%Layer3BackgroundPosition%]"
                ></div>
        </div>
        <div class="creative__alt creative__alt--mobile mobile-only background-effect--[%ScrollType%]"
            style="background-image: url('[%MobileBackgroundImage%]');
            background-position: [%MobileBackgroundImagePosition%];
            background-repeat: [%MobileBackgroundImageRepeat%];"
            >
            <div class="creative__layer creative__layer1"
                style="background-image: url('[%MobileLayer1BackgroundImage%]');
                background-position: [%MobileLayer1BackgroundPosition%]"
                ></div>
            <div class="creative__layer creative__layer2"
                style="background-image: url('[%MobileLayer2BackgroundImage%]');
                background-position: [%MobileLayer2BackgroundPosition%]"
                ></div>
            <div class="creative__layer creative__layer3"
                style="background-image: url('[%MobileLayer3BackgroundImage%]');
                background-position: [%MobileLayer3BackgroundPosition%]"
                ></div>
        </div>
    </a>
</div>

<script>!function(){"use strict";document.addEventListener("DOMContentLoaded",function(){function e(e){return new Promise(function(n){return window.requestAnimationFrame(function(){e(),n()})})}function n(e){return new Promise(function(n){return window.requestAnimationFrame(function(){n(e())})})}function t(e,n){return Promise.race([new Promise(function(e,t){return window.setTimeout(t,n)}),e])}function r(){return new Promise(function(e){self.addEventListener("message",function n(t){var r=void 0;try{r=JSON.parse(t.data)}catch(e){return}var i=Object.keys(r);if(2===i.length&&i.includes("id")&&i.includes("host")){self.removeEventListener("message",n);var o=r;d=o.id,c=o.host,e()}})})}function i(){return new Promise(function(e){"complete"===document.readyState?e():window.addEventListener("load",e)}).then(function(){return n(function(){return window.innerHeight})}).then(function(e){return o("resize",{height:e})})}function o(e,n){var r=a();return t(new Promise(function(t,i){self.addEventListener("message",function e(n){var o=n.data,u=void 0,a=void 0,s=void 0;try{var c=JSON.parse(o);u=c.id,a=c.error,s=c.result}catch(e){return}u===r&&(self.removeEventListener("message",e),null===a?t(s):i(a))}),s(r,d,e,n)}),300)}function u(e){var n=a(),t="scroll";self.addEventListener("message",function r(i){var o=i.data;try{var u=JSON.parse(o),a=u.id,c=u.result;if(a!==n)return;!e(c)==!1&&(s(n,d,t,!1),self.removeEventListener(r))}catch(e){}}),s(n,d,t,!0)}function a(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substr(1)}return""+e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}function s(e,n,t,r){window.top.postMessage(JSON.stringify({id:e,iframeId:n,type:t,value:r}),c)}window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||function(e){return setTimeout(e,1e3/60)});var c="http://localhost:9000",d=void 0;r().then(function(){i();var n="[%ScrollType%]",t=window.matchMedia("(min-width: 740px)").matches;"fixed"===n?u(function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];console.log("yooohooo, received:"),console.dir(n)}):"parallax"!==n||t||u(function(n){var t=n.rect,r=t.bottom,i=t.height,o=n.viewport.height,u=(o-r+i/2)/o*100;e(function(){return background.style.backgroundPositionY=u+"%"})})})})}();</script>